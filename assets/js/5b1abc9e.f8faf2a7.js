"use strict";(self.webpackChunkgreenfield_docs=self.webpackChunkgreenfield_docs||[]).push([[8777],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>k});var r=a(67294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function d(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var u=r.createContext({}),i=function(e){var t=r.useContext(u),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},p=function(e){var t=i(e.components);return r.createElement(u.Provider,{value:t},e.children)},o="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,s=e.originalType,u=e.parentName,p=d(e,["components","mdxType","originalType","parentName"]),o=i(a),m=n,k=o["".concat(u,".").concat(m)]||o[m]||c[m]||s;return a?r.createElement(k,l(l({ref:t},p),{},{components:a})):r.createElement(k,l({ref:t},p))}));function k(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var s=a.length,l=new Array(s);l[0]=m;var d={};for(var u in t)hasOwnProperty.call(t,u)&&(d[u]=t[u]);d.originalType=e,d[o]="string"==typeof e?e:n,l[1]=d;for(var i=2;i<s;i++)l[i]=a[i];return r.createElement.apply(null,l)}return r.createElement.apply(null,a)}m.displayName="MDXCreateElement"},12254:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>u,contentTitle:()=>l,default:()=>c,frontMatter:()=>s,metadata:()=>d,toc:()=>i});var r=a(87462),n=(a(67294),a(3905));const s={title:"Get User Buckets"},l="GetUserBuckets",d={unversionedId:"api/storage-provider-rest/get_user_buckets",id:"api/storage-provider-rest/get_user_buckets",title:"Get User Buckets",description:"RESTful API Description",source:"@site/docs/api/storage-provider-rest/get_user_buckets.md",sourceDirName:"api/storage-provider-rest",slug:"/api/storage-provider-rest/get_user_buckets",permalink:"/greenfield-docs/docs/api/storage-provider-rest/get_user_buckets",draft:!1,editUrl:"https://github.com/bnb-chain/greenfield-docs/blob/main/docs/api/storage-provider-rest/get_user_buckets.md",tags:[],version:"current",frontMatter:{title:"Get User Buckets"},sidebar:"apiReferenceSidebar",previous:{title:"List Bucket Read Records",permalink:"/greenfield-docs/docs/api/storage-provider-rest/list_bucket_read_records"},next:{title:"List Objects By Bucket",permalink:"/greenfield-docs/docs/api/storage-provider-rest/list_objects_by_bucket"}},u={},i=[{value:"RESTful API Description",id:"restful-api-description",level:2},{value:"HTTP Request Format",id:"http-request-format",level:2},{value:"HTTP Request Header",id:"http-request-header",level:2},{value:"HTTP Request Parameter",id:"http-request-parameter",level:2},{value:"Path Parameter",id:"path-parameter",level:3},{value:"Query Parameter",id:"query-parameter",level:3},{value:"Request Body",id:"request-body",level:3},{value:"Request Syntax",id:"request-syntax",level:2},{value:"HTTP Response Header",id:"http-response-header",level:2},{value:"HTTP Response Parameter",id:"http-response-parameter",level:2},{value:"Response Body",id:"response-body",level:3},{value:"Response Syntax",id:"response-syntax",level:2},{value:"Examples",id:"examples",level:2},{value:"Example 1: Query a user&#39;s buckets",id:"example-1-query-a-users-buckets",level:3},{value:"Sample Response: Query a user&#39;s buckets successfully",id:"sample-response-query-a-users-buckets-successfully",level:3}],p={toc:i},o="wrapper";function c(e){let{components:t,...a}=e;return(0,n.kt)(o,(0,r.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"getuserbuckets"},"GetUserBuckets"),(0,n.kt)("h2",{id:"restful-api-description"},"RESTful API Description"),(0,n.kt)("p",null,"This API is used to query a user's own buckets metadata info. This API only supports ",(0,n.kt)("inlineCode",{parentName:"p"},"path-style")," requests."),(0,n.kt)("h2",{id:"http-request-format"},"HTTP Request Format"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Description"),(0,n.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Host(path-style)"),(0,n.kt)("td",{parentName:"tr",align:null},"gnfd-testnet-sp*.bnbchain.org")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Path(path-style)"),(0,n.kt)("td",{parentName:"tr",align:null},"/")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Method"),(0,n.kt)("td",{parentName:"tr",align:null},"GET")))),(0,n.kt)("h2",{id:"http-request-header"},"HTTP Request Header"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"ParameterName"),(0,n.kt)("th",{parentName:"tr",align:null},"Type"),(0,n.kt)("th",{parentName:"tr",align:null},"Required"),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"X-Gnfd-User-Address"),(0,n.kt)("td",{parentName:"tr",align:null},"string"),(0,n.kt)("td",{parentName:"tr",align:null},"yes"),(0,n.kt)("td",{parentName:"tr",align:null},"The address of user")))),(0,n.kt)("h2",{id:"http-request-parameter"},"HTTP Request Parameter"),(0,n.kt)("h3",{id:"path-parameter"},"Path Parameter"),(0,n.kt)("p",null,"The request does not have a path parameter."),(0,n.kt)("h3",{id:"query-parameter"},"Query Parameter"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"ParameterName"),(0,n.kt)("th",{parentName:"tr",align:null},"Type"),(0,n.kt)("th",{parentName:"tr",align:null},"Required"),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"include-removed"),(0,n.kt)("td",{parentName:"tr",align:null},"boolean"),(0,n.kt)("td",{parentName:"tr",align:null},"no"),(0,n.kt)("td",{parentName:"tr",align:null},"include-removed determines whether to include buckets that have been marked as removed in the list. If the parameter is not passed, it will return the data that has not been removed by default.")))),(0,n.kt)("h3",{id:"request-body"},"Request Body"),(0,n.kt)("p",null,"The request does not have a request body."),(0,n.kt)("h2",{id:"request-syntax"},"Request Syntax"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-HTTP"},"GET / HTTP/1.1\nHost: gnfd-testnet-sp*.bnbchain.org\nX-Gnfd-User-Address: Address\n")),(0,n.kt)("h2",{id:"http-response-header"},"HTTP Response Header"),(0,n.kt)("p",null,"The response returns the following HTTP headers."),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"ParameterName"),(0,n.kt)("th",{parentName:"tr",align:null},"Type"),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Content-Type"),(0,n.kt)("td",{parentName:"tr",align:null},"string"),(0,n.kt)("td",{parentName:"tr",align:null},"value is ",(0,n.kt)("inlineCode",{parentName:"td"},"application/xml"))))),(0,n.kt)("h2",{id:"http-response-parameter"},"HTTP Response Parameter"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"ParameterName"),(0,n.kt)("th",{parentName:"tr",align:null},"Type"),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"buckets"),(0,n.kt)("td",{parentName:"tr",align:null},"array"),(0,n.kt)("td",{parentName:"tr",align:null},"buckets defines the information of the bucket list")))),(0,n.kt)("h3",{id:"response-body"},"Response Body"),(0,n.kt)("p",null,"If the request is successful, the service sends back an HTTP 200 response."),(0,n.kt)("p",null,"If you failed to send request, you will get error response body in ",(0,n.kt)("a",{parentName:"p",href:"/greenfield-docs/docs/api/storage-provider-rest/sp_response#sp-error-response"},"XML"),"."),(0,n.kt)("h2",{id:"response-syntax"},"Response Syntax"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-HTTP"},"HTTP/1.1 200\n\nXML Body\n")),(0,n.kt)("h2",{id:"examples"},"Examples"),(0,n.kt)("p",null,"The examples given all use path-style."),(0,n.kt)("h3",{id:"example-1-query-a-users-buckets"},"Example 1: Query a user's buckets"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-HTTP"},"GET / HTTP/1.1\nHost: gnfd-testnet-sp1.bnbchain.org?include-removed=false\nDate: Fri, 31 March 2023 17:32:00 GMT\nX-Gnfd-User-Address: user address string\n")),(0,n.kt)("h3",{id:"sample-response-query-a-users-buckets-successfully"},"Sample Response: Query a user's buckets successfully"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-HTTP"},"HTTP/1.1 200 OK\nX-Gnfd-Request-ID: 4208447844380058399\nDate: Fri, 31 March 2023 17:32:10 GMT\n\n<GfSpGetUserBucketsResponse>\n    <Buckets>\n        <BucketInfo>\n            <Owner>0xb81c15fdd770684cD59C4Ae9E83E28E34019561E</Owner>\n            <BucketName>5tsq2</BucketName>\n            <Visibility>1</Visibility>\n            <Id>2692673</Id>\n            <SourceType>0</SourceType>\n            <CreateAt>1695123881</CreateAt>\n            <PaymentAddress>0xb81c15fdd770684cD59C4Ae9E83E28E34019561E</PaymentAddress>\n            <GlobalVirtualGroupFamilyId>214</GlobalVirtualGroupFamilyId>\n            <ChargedReadQuota>0</ChargedReadQuota>\n            <BucketStatus>0</BucketStatus>\n        </BucketInfo>\n        <Removed>false</Removed>\n        <DeleteAt>0</DeleteAt>\n        <DeleteReason></DeleteReason>\n        <Operator>0xb81c15fdd770684cD59C4Ae9E83E28E34019561E</Operator>\n        <CreateTxHash>0x6604e8f0384c211fe66f7bb99c7fd3754a167b045e640e611bc3139112b58f2d</CreateTxHash>\n        <UpdateTxHash>0x662de1d5d281d76e8f4b9e92cc48d0cc48b99bf55758b0fc61d26f5079198bcf</UpdateTxHash>\n        <UpdateAt>1209879</UpdateAt>\n        <UpdateTime>1695123885</UpdateTime>\n        <Vgf>\n            <Id>214</Id>\n            <PrimarySpId>3</PrimarySpId>\n            <VirtualPaymentAddress>0x25f7c6161eEFFCA4A69059FdC022AC36cE9Bf3C8</VirtualPaymentAddress>\n        </Vgf>\n        <StorageSize>111111</StorageSize>\n        <OffChainStatus>1</OffChainStatus>\n    </Buckets>\n    <Buckets>\n        <BucketInfo>\n            <Owner>0xb81c15fdd770684cD59C4Ae9E83E28E34019561E</Owner>\n            <BucketName>oz60t</BucketName>\n            <Visibility>1</Visibility>\n            <Id>2692670</Id>\n            <SourceType>0</SourceType>\n            <CreateAt>1695123858</CreateAt>\n            <PaymentAddress>0xb81c15fdd770684cD59C4Ae9E83E28E34019561E</PaymentAddress>\n            <GlobalVirtualGroupFamilyId>214</GlobalVirtualGroupFamilyId>\n            <ChargedReadQuota>0</ChargedReadQuota>\n            <BucketStatus>0</BucketStatus>\n        </BucketInfo>\n        <Removed>false</Removed>\n        <DeleteAt>0</DeleteAt>\n        <DeleteReason></DeleteReason>\n        <Operator>0xb81c15fdd770684cD59C4Ae9E83E28E34019561E</Operator>\n        <CreateTxHash>0x0e954e633d7edfb2c8cbd677e15a516cb4351d21ced41db0ea2e708a61e7f061</CreateTxHash>\n        <UpdateTxHash>0x2e2d6c0342de2cad7d35821a08a52e75dfa0146dbe0db1156a09f34d7a60cfaa</UpdateTxHash>\n        <UpdateAt>1209873</UpdateAt>\n        <UpdateTime>1695123872</UpdateTime>\n        <Vgf>\n            <Id>214</Id>\n            <PrimarySpId>3</PrimarySpId>\n            <VirtualPaymentAddress>0x25f7c6161eEFFCA4A69059FdC022AC36cE9Bf3C8</VirtualPaymentAddress>\n        </Vgf>\n        <StorageSize>2386542</StorageSize>\n    </Buckets>\n    <Buckets>\n        <BucketInfo>\n            <Owner>0xb81c15fdd770684cD59C4Ae9E83E28E34019561E</Owner>\n            <BucketName>duc19</BucketName>\n            <Visibility>2</Visibility>\n            <Id>2692561</Id>\n            <SourceType>0</SourceType>\n            <CreateAt>1695106708</CreateAt>\n            <PaymentAddress>0xb81c15fdd770684cD59C4Ae9E83E28E34019561E</PaymentAddress>\n            <GlobalVirtualGroupFamilyId>13</GlobalVirtualGroupFamilyId>\n            <ChargedReadQuota>0</ChargedReadQuota>\n            <BucketStatus>0</BucketStatus>\n        </BucketInfo>\n        <Removed>false</Removed>\n        <DeleteAt>0</DeleteAt>\n        <DeleteReason></DeleteReason>\n        <Operator>0xb81c15fdd770684cD59C4Ae9E83E28E34019561E</Operator>\n        <CreateTxHash>0x868a3c3432e2f86958cef0efddf4e8c3f630b542719a7fec575ca671ab5a1b61</CreateTxHash>\n        <UpdateTxHash>0x868a3c3432e2f86958cef0efddf4e8c3f630b542719a7fec575ca671ab5a1b61</UpdateTxHash>\n        <UpdateAt>1201393</UpdateAt>\n        <UpdateTime>1695106708</UpdateTime>\n        <Vgf>\n            <Id>13</Id>\n            <PrimarySpId>1</PrimarySpId>\n            <VirtualPaymentAddress>0x26281179b8885F21f95b0a246c8AD70957A95A23</VirtualPaymentAddress>\n        </Vgf>\n        <StorageSize>32179842</StorageSize>\n    </Buckets>\n    <Buckets>\n        <BucketInfo>\n            <Owner>0xb81c15fdd770684cD59C4Ae9E83E28E34019561E</Owner>\n            <BucketName>uyo9o</BucketName>\n            <Visibility>2</Visibility>\n            <Id>2692560</Id>\n            <SourceType>0</SourceType>\n            <CreateAt>1695106683</CreateAt>\n            <PaymentAddress>0xb81c15fdd770684cD59C4Ae9E83E28E34019561E</PaymentAddress>\n            <GlobalVirtualGroupFamilyId>13</GlobalVirtualGroupFamilyId>\n            <ChargedReadQuota>0</ChargedReadQuota>\n            <BucketStatus>0</BucketStatus>\n        </BucketInfo>\n        <Removed>false</Removed>\n        <DeleteAt>0</DeleteAt>\n        <DeleteReason></DeleteReason>\n        <Operator>0xb81c15fdd770684cD59C4Ae9E83E28E34019561E</Operator>\n        <CreateTxHash>0x5d1605529a24aaf1205e4a2f42aee44d1d58c8b38f782687b375b7fcccfef770</CreateTxHash>\n        <UpdateTxHash>0x5d1605529a24aaf1205e4a2f42aee44d1d58c8b38f782687b375b7fcccfef770</UpdateTxHash>\n        <UpdateAt>1201381</UpdateAt>\n        <UpdateTime>1695106683</UpdateTime>\n        <Vgf>\n            <Id>13</Id>\n            <PrimarySpId>1</PrimarySpId>\n            <VirtualPaymentAddress>0x26281179b8885F21f95b0a246c8AD70957A95A23</VirtualPaymentAddress>\n        </Vgf>\n        <StorageSize>12332122</StorageSize>\n    </Buckets>\n</GfSpGetUserBucketsResponse>\n")))}c.isMDXComponent=!0}}]);